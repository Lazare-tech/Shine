{% extends "base.html" %}
{% load static %}
{% block title %}{% endblock title %}

{% block content %}



<section class="hero-banner">

    <!-- Image -->
    <img src="{% static 'images/about.jpg' %}" 
         alt="Étudiants à l'université"
         class="hero-bg">

    <!-- Overlay bleu foncé transparent -->
    <div class="hero-overlay"></div>

    <!-- Contenu du Hero -->
    <div class="container hero-content">
        <div class="row">
            <div class="col-lg-6">
                <h1 class="hero-title">
                Blog Mobilité  <span class="text-title-gold">& Projets Internationaux</span>
                </h1>
                <p class="hero-text">
                Conseils pratiques, analyses expertes et guides complets pour réussir
          vos projets d’études, de visa et d’installation à l’international.
     
                </p>

                <div class="mt-4">
                    <a href="#" class="btn btn-responsive-warning me-2">Découvrir les articles</a>
                </div>
            </div>
        </div>
    </div>

</section>


<!-- Catégories / Filtres -->
<section class="py-4 bg-light">
  <div class="container text-center">
    <h5 class="fw-bold text-title-blue mb-3">Filtrer par catégorie</h5>
    <div class="d-flex flex-wrap justify-content-center gap-2">
      <a href="{% url 'shine:blog' %}" 
         class="btn btn-sm {% if not selected_category %}btn-agen-colr{% else %}btn-outline-agen-colr{% endif %} rounded-pill px-3">
        Tous
      </a>

      {% for cat in categorie_service %}
    <a href="{% url 'shine:blog_by_category' cat.slug %}#articles" 
       class="btn btn-sm {% if selected_category and selected_category.slug == cat.slug %}btn-agen-colr{% else %}btn-outline-agen-colr{% endif %} rounded-pill px-3">
      {{ cat.titre }}
    </a>
{% endfor %}
    </div>
  </div>
</section>

<section class="py-5 bg-light" id="articles">
  <div class="container">
    <div class="row g-4">
      {% for art in articles %}
      <div class="col-md-6 col-lg-4">
        <article class="card h-100 border-0 shadow-sm rounded-4 overflow-hidden transition-hover">
          <div class="position-relative">
            {% if art.image %}
              <img src="{{ art.image.url }}" class="card-img-top" alt="{{ art.titre }}" style="height: 220px; object-fit: cover;">
            {% else %}
              <div class="bg-secondary-subtle d-flex align-items-center justify-content-center" style="height: 220px;">
                  <i class="fas fa-image fa-2x text-muted"></i>
              </div>
            {% endif %}
            
            {% if art.services_associes %}
            <div class="position-absolute top-0 start-0 m-3">
                <span class="badge text-white px-3 py-2" style="background-color:#c39d3b; border-radius: 8px;">
                  {{ art.services_associes.titre }}
                </span>
            </div>
            {% endif %}
          </div>

          <div class="card-body d-flex flex-column p-4">
            <h3 class="h5 fw-bold text-title-blue mb-3">{{ art.titre }}</h3>
            <p class="text-muted flex-grow-1 small">{{ art.contenu|truncatewords:18 }}</p>
            <a href="{% url 'shine:detail_blog' art.slug %}" class="fw-bold text-decoration-none mt-3" style="color:#c39d3b;">
              Lire l’article <i class="fas fa-arrow-right ms-1"></i>
            </a>
          </div>
        </article>
      </div>
      {% empty %}
      <div class="col-12 text-center py-5">
        <i class="fas fa-folder-open fa-3x text-muted mb-3"></i>
        <p class="text-muted">Aucun article trouvé dans cette catégorie.</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

{% include 'shine/body/newsletter.html' %}

{% endblock content %}
