{% load static %}

<!DOCTYPE html>
<html lang="en">
  {% load static %}

  <!DOCTYPE html>
  <html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
        <title>{% block title %}{% endblock title %}</title>
          <!-- CSS Frameworks et personnalisés -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
        <link href="{% static 'css/main.css' %}" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'fontawesome-free/css/all.min.css' %}">
    <link href="{% static 'fonts/fontawesome/css/all.min.css' %}" rel="stylesheet">
  </head>
  <body>
  <header>
{% block nav %}
{% include 'shine/navbar/navbar.html' %}

{% endblock nav %}
  </header>
  <main>
   
    
    {% block content %}
    {% endblock content %}
  
</main>


  {% include 'shine/footer/footer.html' %}
  
  
  
  
  <!--mdn Bootstrap links-->
  <script type="text/javascript" src={% static "js/carousel-category.js" %}></script>
  <script type="text/javascript" src={% static "js/bootstrap.bundle.min.js" %}></script>

  <script type="text/javascript" src={% static "js/style.js" %}></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!--links rel-->
<!-- MDB JS -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const newsForm = document.querySelector('#ajax-devis-form');
    const newsMessage = document.querySelector('#response-message');

    if (newsForm) {
        newsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);

            fetch(this.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    // Succès : Texte vert et on vide le champ
                    newsMessage.innerHTML = `<span class="text-success small fw-bold"><i class="fas fa-check-circle me-1"></i> ${data.message}</span>`;
                    newsForm.reset();
                } else {
                    // Erreur : Texte rouge
                    newsMessage.innerHTML = `<span class="text-danger small fw-bold"><i class="fas fa-exclamation-circle me-1"></i> ${data.message}</span>`;
                }
            })
            .catch(error => {
                newsMessage.innerHTML = `<span class="text-danger small">Une erreur technique est survenue.</span>`;
            });
        });
    }
});
</script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@24.5.0/build/css/intlTelInput.css">

</body>

</html>